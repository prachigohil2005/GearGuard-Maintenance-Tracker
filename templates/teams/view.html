{% extends "base.html" %} {% block title %}{{ team.name }} - GearGuard{%
endblock %} {% block content %}
<div class="container-fluid">
  <div class="page-header">
    <div>
      <a href="{{ url_for('teams.list_teams') }}" class="back-link"
        >‚Üê Back to Teams</a
      >
      <h1>{{ team.name }}</h1>
    </div>
    {% if current_user.is_manager() %}
    <div class="header-actions">
      <a
        href="{{ url_for('teams.edit', id=team.id) }}"
        class="btn btn-secondary"
        >Edit Team</a
      >
    </div>
    {% endif %}
  </div>

  <div class="detail-container">
    <div class="detail-card">
      <h2>Team Information</h2>
      <p>{{ team.description or 'No description available.' }}</p>

      <div class="stats-row">
        <div class="stat-box">
          <div class="stat-value">{{ team.get_member_count() }}</div>
          <div class="stat-label">Team Members</div>
        </div>
        <div class="stat-box">
          <div class="stat-value">{{ team.equipment.count() }}</div>
          <div class="stat-label">Equipment Assigned</div>
        </div>
        <div class="stat-box">
          <div class="stat-value">{{ open_requests }}</div>
          <div class="stat-label">Open Requests</div>
        </div>
      </div>
    </div>

    <div class="detail-card">
      <h2>Team Members</h2>
      {% if team.members|length > 0 %}
      <div class="members-grid">
        {% for member in team.members %}
        <div class="member-card">
          <div class="member-avatar">{{ member.name[0] }}</div>
          <div class="member-info">
            <strong>{{ member.name }}</strong>
            <p>{{ member.role }}</p>
          </div>
        </div>
        {% endfor %}
      </div>
      {% else %}
      <p class="text-muted">No members assigned to this team yet.</p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
